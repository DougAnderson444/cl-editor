!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.clEditor=e()}(this,function(){"use strict";function t(){}function e(t){for(var e,n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(e in n)t[e]=n[e]}return t}function n(t,e){e.appendChild(t)}function o(t,e,n){e.insertBefore(t,n)}function i(t){t.parentNode.removeChild(t)}function r(t){for(var e=0;e<t.length;e+=1)t[e]&&t[e].d()}function l(t){return document.createElement(t)}function s(t){return document.createTextNode(t)}function c(t,e,n){t.addEventListener(e,n,!1)}function a(t,e,n){t.removeEventListener(e,n,!1)}function u(t,e,n){t.setAttribute(e,n)}function h(t,e,n){t.style.setProperty(e,n)}function f(){return Object.create(null)}function d(e){this.destroy=t,this.fire("destroy"),this.set=this.get=t,!1!==e&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function p(t,e){return t!==e||t&&"object"==typeof t||"function"==typeof t}function v(t,e,n,o,i){for(var r in e)if(n[r]){var l=o[r],s=i[r],c=e[r];if(c)for(var a=0;a<c.length;a+=1){var u=c[a];u.__calling||(u.__calling=!0,u.call(t,l,s),u.__calling=!1)}}}function g(t,e){t.options=e,t._observers={pre:f(),post:f()},t._handlers=f(),t._root=e._root||t,t._bind=e._bind}function b(t){for(;t&&t.length;)t.pop()()}function m(){return{show:!1,url:"",event:"",title:"",label:"",error:!1}}function x(){var t=this;this.observe("show",function(e){e&&function(t){setTimeout(function(){t.querySelector("input").focus()})}(t.refs.modalWrapper)},{init:!1})}function _(t){u(t,"svelte-1660483961","")}function w(){var t=l("style");t.id="svelte-1660483961-style",t.textContent='[svelte-1660483961].cl-editor-modal,[svelte-1660483961] .cl-editor-modal{position:absolute;top:37px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);max-width:520px;width:100%;height:140px;backface-visibility:hidden}[svelte-1660483961].cl-editor-overlay,[svelte-1660483961] .cl-editor-overlay{position:absolute;background-color:rgba(255,255,255,.5);height:100%;width:100%;left:0;top:0}[svelte-1660483961].modal-box,[svelte-1660483961] .modal-box{position:absolute;top:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);max-width:500px;width:calc(100% - 20px);padding-bottom:36px;z-index:1;background-color:#FFF;text-align:center;font-size:14px;box-shadow:rgba(0,0,0,.2) 0 2px 3px;-webkit-backface-visibility:hidden;backface-visibility:hidden}[svelte-1660483961].modal-title,[svelte-1660483961] .modal-title{font-size:24px;font-weight:700;margin:0 0 20px;padding:2px 0 4px;display:block;border-bottom:1px solid #EEE;color:#333;background:#fbfcfc}[svelte-1660483961].modal-label,[svelte-1660483961] .modal-label{display:block;position:relative;margin:15px 12px;height:29px;line-height:29px;overflow:hidden}[svelte-1660483961].modal-label input,[svelte-1660483961] .modal-label input{position:absolute;top:0;right:0;height:27px;line-height:25px;border:1px solid #DEDEDE;background:#fff;font-size:14px;max-width:330px;width:70%;padding:0 7px;transition:all 150ms}[svelte-1660483961].modal-label input:focus,[svelte-1660483961] .modal-label input:focus{outline:none}[svelte-1660483961].input-error input,[svelte-1660483961] .input-error input{border:1px solid #e74c3c}[svelte-1660483961].input-info,[svelte-1660483961] .input-info{display:block;text-align:left;height:25px;line-height:25px;transition:all 150ms}[svelte-1660483961].input-info span,[svelte-1660483961] .input-info span{display:block;color:#69878f;background-color:#fbfcfc;border:1px solid #DEDEDE;padding:0 7px;width:150px}[svelte-1660483961].input-error .input-info,[svelte-1660483961] .input-error .input-info{margin-top:-27px}[svelte-1660483961].input-error .msg-error,[svelte-1660483961] .input-error .msg-error{color:#e74c3c}[svelte-1660483961].modal-button,[svelte-1660483961] .modal-button{position:absolute;bottom:10px;right:0;text-decoration:none;color:#FFF;display:block;width:100px;height:35px;line-height:33px;margin:0 10px;background-color:#333;border:none;cursor:pointer;font-family:"Lato",Helvetica,Verdana,sans-serif;font-size:16px;transition:all 150ms}[svelte-1660483961].modal-submit,[svelte-1660483961] .modal-submit{right:110px;background:#2bc06a}[svelte-1660483961].modal-reset,[svelte-1660483961] .modal-reset{color:#555;background:#e6e6e6}',n(t,document.head)}function k(t,e){var n,r=t.show&&M(t,e);return{c:function(){n=l("div"),r&&r.c(),this.h()},h:function(){_(n)},m:function(t,i){o(n,t,i),e.refs.modalWrapper=n,r&&r.m(n,null)},p:function(t,o){o.show?r?r.p(t,o):((r=M(o,e)).c(),r.m(n,null)):r&&(r.u(),r.d(),r=null)},u:function(){i(n),r&&r.u()},d:function(){e.refs.modalWrapper===n&&(e.refs.modalWrapper=null),r&&r.d()}}}function y(e,n){var r;return{c:function(){(r=l("span")).textContent="Required",this.h()},h:function(){r.className="msg-error"},m:function(t,e){o(r,t,e)},u:function(){i(r)},d:t}}function M(t,e){function r(t){e.cancel()}function u(t){e.confirm(t)}function h(){O=!0,e.set({url:H.value}),O=!1}function f(t){e.hideError()}function d(t){e.cancel()}var p,v,g,b,m,x,_,w,k,M,H,z,B,L,C,N,E,j,T,F,O=!1,R=t.error&&y(t,e);return{c:function(){p=l("div"),v=s("\r\n    "),g=l("div"),b=l("div"),m=l("span"),x=s(t.title),_=s("\r\n            "),w=l("form"),k=l("label"),H=l("input"),z=s("\r\n                    "),B=l("span"),L=l("span"),C=s(t.label),N=s("\r\n                        "),R&&R.c(),E=s("\r\n                "),(j=l("button")).textContent="Confirm",T=s("\r\n                "),(F=l("button")).textContent="Cancel",this.h()},h:function(){p.className="cl-editor-overlay",c(p,"click",r),g.className="cl-editor-modal",b.className="modal-box",m.className="modal-title",c(w,"submit",u),k.className=M="modal-label "+(t.error?"input-error":""),H.type="text",H.name="url",c(H,"input",h),c(H,"keyup",f),B.className="input-info",j.className="modal-button modal-submit",j.type="submit",F.className="modal-button modal-reset",F.type="reset",c(F,"click",d)},m:function(i,r){o(p,i,r),o(v,i,r),o(g,i,r),n(b,g),n(m,b),n(x,m),n(_,b),n(w,b),n(k,w),n(H,k),e.refs.url=H,H.value=t.url,n(z,k),n(B,k),n(L,B),n(C,L),n(N,B),R&&R.m(B,null),n(E,w),n(j,w),n(T,w),n(F,w)},p:function(t,n){t.title&&(x.data=n.title),t.error&&M!==(M="modal-label "+(n.error?"input-error":""))&&(k.className=M),O||(H.value=n.url),t.label&&(C.data=n.label),n.error?R||((R=y(n,e)).c(),R.m(B,null)):R&&(R.u(),R.d(),R=null)},u:function(){i(p),i(v),i(g),R&&R.u()},d:function(){a(p,"click",r),a(w,"submit",u),a(H,"input",h),a(H,"keyup",f),e.refs.url===H&&(e.refs.url=null),R&&R.d(),a(F,"click",d)}}}function H(t){g(this,t),this.refs={},this._state=e(m(),t.data),document.getElementById("svelte-1660483961-style")||w();var n=x.bind(this);t._root?this._root._oncreate.push(n):this._oncreate=[n],this._fragment=k(this._state,this),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null),b(this._oncreate))}function z(){return{show:!1,btns:[],event:""}}function B(){this.set({btns:st()})}function L(t){u(t,"svelte-1757982853","")}function C(){var t=l("style");t.id="svelte-1757982853-style",t.textContent='[svelte-1757982853].color-picker-wrapper,[svelte-1757982853] .color-picker-wrapper{border:1px solid #ecf0f1;border-top:none;background:#FFF;box-shadow:rgba(0,0,0,.1) 0 2px 3px;width:290px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);padding:0;position:absolute;top:37px}[svelte-1757982853].color-picker-overlay,[svelte-1757982853] .color-picker-overlay{position:absolute;background-color:rgba(255,255,255,.5);height:100%;width:100%;left:0;top:0}[svelte-1757982853].color-picker-btn,[svelte-1757982853] .color-picker-btn{display:block;position:relative;float:left;height:20px;width:20px;border:1px solid #333;padding:0;margin:2px;line-height:35px;text-decoration:none;background:#FFF;color:#333!important;cursor:pointer;text-align:left;font-size:15px;transition:all 150ms}[svelte-1757982853].color-picker-btn:hover::after,[svelte-1757982853] .color-picker-btn:hover::after{content:" ";display:block;position:absolute;top:-5px;left:-5px;height:27px;width:27px;background:inherit;border:1px solid #FFF;box-shadow:#000 0 0 2px;z-index:10}',n(t,document.head)}function N(t,e){var n,r=t.show&&j(t,e);return{c:function(){n=l("div"),r&&r.c(),this.h()},h:function(){L(n)},m:function(t,e){o(n,t,e),r&&r.m(n,null)},p:function(t,o){o.show?r?r.p(t,o):((r=j(o,e)).c(),r.m(n,null)):r&&(r.u(),r.d(),r=null)},u:function(){i(n),r&&r.u()},d:function(){r&&r.d()}}}function E(t,e,r,u,h){var f,d,p,v=r.text||"";return{c:function(){f=l("button"),p=s(v),this.h()},h:function(){f.type="button",f.className="color-picker-btn",f.style.cssText=d=r.style,c(f,"click",T),f._svelte={component:h,btns:e,btn_index:u}},m:function(t,e){o(f,t,e),n(p,f)},p:function(t,e,n,o,i){t.btns&&d!==(d=o.style)&&(f.style.cssText=d),f._svelte.btns=n,f._svelte.btn_index=i,t.btns&&v!==(v=o.text||"")&&(p.data=v)},u:function(){i(f)},d:function(){a(f,"click",T)}}}function j(t,e){function n(t){e.close()}for(var u,h,f,d=t.btns,p=[],v=0;v<d.length;v+=1)p[v]=E(t,d,d[v],v,e);return{c:function(){u=l("div"),h=s("\r\n    "),f=l("div");for(var t=0;t<p.length;t+=1)p[t].c();this.h()},h:function(){u.className="color-picker-overlay",c(u,"click",n),f.className="color-picker-wrapper"},m:function(t,e){o(u,t,e),o(h,t,e),o(f,t,e);for(var n=0;n<p.length;n+=1)p[n].m(f,null)},p:function(t,n){var o=n.btns;if(t.btns){for(var i=0;i<o.length;i+=1)p[i]?p[i].p(t,n,o,o[i],i):(p[i]=E(n,o,o[i],i,e),p[i].c(),p[i].m(f,null));for(;i<p.length;i+=1)p[i].u(),p[i].d();p.length=o.length}},u:function(){i(u),i(h),i(f);for(var t=0;t<p.length;t+=1)p[t].u()},d:function(){a(u,"click",n),r(p)}}}function T(t){var e=this._svelte.component,n=this._svelte.btns[this._svelte.btn_index];e.selectColor(n)}function F(t){g(this,t),this._state=e(z(),t.data),document.getElementById("svelte-1757982853-style")||C();var n=B.bind(this);t._root?this._root._oncreate.push(n):this._oncreate=[n],this._fragment=N(this._state,this),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null),b(this._oncreate))}function O(){return{actionBtns:[],height:"300px",html:""}}function R(){var t=this.options.data||{},e=$(it,t.actions);this.set({actionBtns:Y(e),actionObj:e}),this.setHtml(t.html),ct=new H({target:this.refs.modal}),at=new F({target:this.refs.colorPicker})}function S(t){u(t,"svelte-1814663022","")}function P(){var t=l("style");t.id="svelte-1814663022-style",t.textContent='[svelte-1814663022].cl *,[svelte-1814663022] .cl *{box-sizing:border-box}[svelte-1814663022].cl,[svelte-1814663022] .cl{box-shadow:0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);box-sizing:border-box;width:100%;position:relative}[svelte-1814663022].cl-content,[svelte-1814663022] .cl-content{height:300px;outline:0;overflow-y:auto;padding:10px;width:100%}[svelte-1814663022].cl-actionbar,[svelte-1814663022] .cl-actionbar{background-color:#ecf0f1;border-bottom:1px solid rgba(10, 10, 10, 0.1);width:100%}[svelte-1814663022].cl-button,[svelte-1814663022] .cl-button{background-color:transparent;border:none;cursor:pointer;height:35px;outline:0;width:35px;vertical-align:top;position:relative}[svelte-1814663022].cl-button:hover,[svelte-1814663022] .cl-button:hover,[svelte-1814663022].cl-button.active,[svelte-1814663022] .cl-button.active{background-color:#fff}[svelte-1814663022].cl-button:disabled,[svelte-1814663022] .cl-button:disabled{opacity:.5;pointer-events:none}[svelte-1814663022].cl-button.color-picker::after,[svelte-1814663022] .cl-button.color-picker::after{display:block;content:" ";position:absolute;top:25px;right:3px;height:0;width:0;border:3px solid rgba(0, 0, 0, 0);border-top-color:#555}[svelte-1814663022].cl-textarea,[svelte-1814663022] .cl-textarea{display:none;max-width:100%;min-width:100%;border:none;padding:10px}[svelte-1814663022].cl-textarea:focus,[svelte-1814663022] .cl-textarea:focus{outline:none}',n(t,document.head)}function U(t,e){function u(t){e._onChange(t.target.innerHTML)}function f(t){e._handleButtonStatus()}function d(t){e._handleButtonStatus()}function p(t){e._onPaste(t)}function v(t){e._onBlur(t)}for(var g,b,m,x,_,w,k,y,M,H,z=t.actionBtns,B=[],L=0;L<z.length;L+=1)B[L]=D(t,z,z[L],L,e);return{c:function(){g=l("div"),b=l("div");for(var t=0;t<B.length;t+=1)B[t].c();m=s("\r\n  "),x=l("div"),_=s("\r\n  \r\n  "),w=l("textarea"),k=s("\r\n  "),y=l("div"),M=s("\r\n  "),H=l("div"),this.h()},h:function(){S(g),g.className="cl",b.className="cl-actionbar",x.className="cl-content",h(x,"height",t.height),x.contentEditable="true",c(x,"input",u),c(x,"mouseup",f),c(x,"keyup",d),c(x,"paste",p),c(x,"blur",v),w.className="cl-textarea",h(w,"max-height",t.height),h(w,"min-height",t.height)},m:function(t,i){o(g,t,i),n(b,g);for(var r=0;r<B.length;r+=1)B[r].m(b,null);n(m,g),n(x,g),e.refs.editor=x,n(_,g),n(w,g),e.refs.raw=w,n(k,g),n(y,g),e.refs.modal=y,n(M,g),n(H,g),e.refs.colorPicker=H},p:function(t,n){var o=n.actionBtns;if(t.actionBtns){for(var i=0;i<o.length;i+=1)B[i]?B[i].p(t,n,o,o[i],i):(B[i]=D(n,o,o[i],i,e),B[i].c(),B[i].m(b,null));for(;i<B.length;i+=1)B[i].u(),B[i].d();B.length=o.length}t.height&&(h(x,"height",n.height),h(w,"max-height",n.height),h(w,"min-height",n.height))},u:function(){i(g);for(var t=0;t<B.length;t+=1)B[t].u()},d:function(){r(B),a(x,"input",u),a(x,"mouseup",f),a(x,"keyup",d),a(x,"paste",p),a(x,"blur",v),e.refs.editor===x&&(e.refs.editor=null),e.refs.raw===w&&(e.refs.raw=null),e.refs.modal===y&&(e.refs.modal=null),e.refs.colorPicker===H&&(e.refs.colorPicker=null)}}}function D(t,e,n,r,s){var u,h,f,d,p=n.icon;return{c:function(){u=l("button"),this.h()},h:function(){u.className=h="cl-button "+(n.active?"active":"")+" "+(n.colorPicker?"color-picker":""),u.title=f=n.title,u.disabled=d=n.disabled,c(u,"click",I),u._svelte={component:s,actionBtns:e,action_index:r}},m:function(t,e){o(u,t,e),u.innerHTML=p},p:function(t,e,n,o,i){t.actionBtns&&h!==(h="cl-button "+(o.active?"active":"")+" "+(o.colorPicker?"color-picker":""))&&(u.className=h),t.actionBtns&&f!==(f=o.title)&&(u.title=f),t.actionBtns&&d!==(d=o.disabled)&&(u.disabled=d),u._svelte.actionBtns=n,u._svelte.action_index=i,t.actionBtns&&p!==(p=o.icon)&&(u.innerHTML=p)},u:function(){u.innerHTML="",i(u)},d:function(){a(u,"click",I)}}}function I(t){var e=this._svelte.component,n=this._svelte.actionBtns[this._svelte.action_index];e._btnClicked(n)}function V(t){g(this,t),this.refs={},this._state=e(O(),t.data),document.getElementById("svelte-1814663022-style")||P();var n=R.bind(this);t._root?this._root._oncreate.push(n):this._oncreate=[n],this._fragment=U(this._state,this),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null),b(this._oncreate))}var A={destroy:d,get:function(t){return t?this._state[t]:this._state},fire:function(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var o=0;o<n.length;o+=1)n[o].call(this,e)},observe:function(t,e,n){var o=n&&n.defer?this._observers.post:this._observers.pre;return(o[t]||(o[t]=[])).push(e),n&&!1===n.init||(e.__calling=!0,e.call(this,this._state[t]),e.__calling=!1),{cancel:function(){var n=o[t].indexOf(e);~n&&o[t].splice(n,1)}}},on:function(t,e){if("teardown"===t)return this.on("destroy",e);var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}},set:function(t){this._set(e({},t)),this._root._lock||(this._root._lock=!0,b(this._root._beforecreate),b(this._root._oncreate),b(this._root._aftercreate),this._root._lock=!1)},teardown:d,_recompute:t,_set:function(t){var n=this._state,o={},i=!1;for(var r in t)p(t[r],n[r])&&(o[r]=i=!0);i&&(this._state=e({},n,t),this._recompute(o,this._state),this._bind&&this._bind(o,this._state),v(this,this._observers.pre,o,this._state,n),this._fragment.p(o,this._state),v(this,this._observers.post,o,this._state,n))},_mount:function(t,e){this._fragment.m(t,e)},_unmount:function(){this._fragment.u()}},X={},q=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;document.execCommand(t,!1,e)},W=function t(e,n){if(n=n||(e&&e.tagName?[e.tagName]:[]),!e||!e.parentNode)return n;var o=(e=e.parentNode).tagName;return[e.style&&e.style.textAlign||e.getAttribute("align"),e.style.color||"FONT"===o&&"forecolor",e.style.backgroundColor&&"backcolor"].filter(function(t){return t}).forEach(function(t){return n.push(t)}),"DIV"===o?n:(n.push(o),t(e,n).filter(function(t){return null!=t}))},J=function(t){var e=document.getSelection();if(X.range=null,e.rangeCount){var n=X.range=e.getRangeAt(0),o=document.createRange(),i=void 0;o.selectNodeContents(t),o.setEnd(n.startContainer,n.startOffset),i=(o+"").length,X.metaRange={start:i,end:i+(n+"").length}}},Q=function(t){var e=X.metaRange,n=X.range,o=document.getSelection(),i=void 0;if(n){if(e&&e.start!==e.end){var r=0,l=[t],s=void 0,c=!1,a=!1;for(i=document.createRange();!a&&(s=l.pop());)if(3===s.nodeType){var u=r+s.length;!c&&e.start>=r&&e.start<=u&&(i.setStart(s,e.start-r),c=!0),c&&e.end>=r&&e.end<=u&&(i.setEnd(s,e.end-r),a=!0),r=u}else for(var h=s.childNodes,f=h.length;f>0;)f-=1,l.push(h[f])}o.removeAllRanges(),o.addRange(i||n)}},K=function(t){var e=t.replace(/\r?\n|\r/g," ").match(/<!--StartFragment-->(.*?)<!--EndFragment-->/),n=e&&e[1]||"";return n=n.replace(/(class=(")?Mso[a-zA-Z]+(")?)/g," ").replace(/<!--(.*?)-->/g,"").replace(new RegExp("<(/)*(meta|link|span|\\?xml:|st1:|o:|font)(.*?)>","gi"),"").replace(/<!\[if !supportLists\]>(.*?)<!\[endif\]>/gi,"").replace(/style="[^"]*"/gi,"").replace(/style='[^']*'/gi,"").replace(/&nbsp;/gi," "),["style","script","applet","embed","noframes","noscript"].forEach(function(t){n=n.replace(new RegExp("<"+t+".*?"+t+"(.*?)>","gi"),"")}),n},Z=function(t){for(var e=document.createDocumentFragment();t.firstChild;){var n=t.removeChild(t.firstChild);e.appendChild(n)}t.parentNode.replaceChild(e,t)},G=function t(e){Array.from(e).forEach(function(e){["h1","h2","p","div","blockquote"].some(function(t){return t===e.tagName.toLowerCase()})&&(e.children.length&&t(e.children),Z(e))})},Y=function(t){return Object.keys(t).map(function(e){return t[e]})},$=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e&&e.length){var n={};return e.forEach(function(e){"string"==typeof e?n[e]=t[e]:t[e.name]?n[e.name]=Object.assign(t[e.name],e):n[e.name]=e}),n}return t},tt=!0,et=!1,nt=!1,ot={foreColor:!1,backColor:!1,foreColorModal:!1,backColorModal:!1},it={viewHtml:{icon:'<svg id="trumbowyg-view-html" viewBox="0 0 72 72" width="17px" height="100%"><path fill="none" stroke="currentColor" stroke-width="8" stroke-miterlimit="10" d="M26.9 17.9L9 36.2 26.9 54M45 54l17.9-18.3L45 17.9"></path></svg>',title:"View HTML",result:function(){var t=this,e=this.get("actionObj");tt=!tt,this.refs.editor.style.display=tt?"block":"none",this.refs.raw.style.display=tt?"none":"block",tt?this.refs.editor.innerHTML=this.refs.raw.value:this.refs.raw.value=this.refs.editor.innerHTML,setTimeout(function(){Object.keys(e).forEach(function(t){return e[t].disabled=!tt}),e.viewHtml.disabled=!1,e.viewHtml.active=!tt,t.set({actionBtns:Y(e),actionObj:e})})}},undo:{icon:'<svg id="trumbowyg-undo" viewBox="0 0 72 72" width="17px" height="100%"><path d="M61.2 51.2c0-5.1-2.1-9.7-5.4-13.1-3.3-3.3-8-5.4-13.1-5.4H26.1v-12L10.8 36l15.3 15.3V39.1h16.7c3.3 0 6.4 1.3 8.5 3.5 2.2 2.2 3.5 5.2 3.5 8.5h6.4z"></path></svg>',title:"Undo",result:function(){return q("undo")}},redo:{icon:'<svg id="trumbowyg-redo" viewBox="0 0 72 72" width="17px" height="100%"><path d="M10.8 51.2c0-5.1 2.1-9.7 5.4-13.1 3.3-3.3 8-5.4 13.1-5.4H46v-12L61.3 36 45.9 51.3V39.1H29.3c-3.3 0-6.4 1.3-8.5 3.5-2.2 2.2-3.5 5.2-3.5 8.5h-6.5z"></path></svg>',title:"Redo",result:function(){return q("redo")}},b:{icon:"<b>B</b>",title:"Bold",result:function(){return q("bold")}},i:{icon:"<i>I</i>",title:"Italic",result:function(){return q("italic")}},u:{icon:"<u>U</u>",title:"Underline",result:function(){return q("underline")}},strike:{icon:"<strike>S</strike>",title:"Strike-through",result:function(){return q("strikeThrough")}},h1:{icon:"<b>H<sub>1</sub></b>",title:"Heading 1",result:function(){return q("formatBlock","<H1>")}},h2:{icon:"<b>H<sub>2</sub></b>",title:"Heading 2",result:function(){return q("formatBlock","<H2>")}},p:{icon:"&#182;",title:"Paragraph",result:function(){return q("formatBlock","<P>")}},blockquote:{icon:"&#8220; &#8221;",title:"Quote",result:function(){return q("formatBlock","<BLOCKQUOTE>")}},ol:{icon:'<svg id="trumbowyg-ordered-list" viewBox="0 0 72 72" width="17px" height="100%"><path d="M27 14h36v8H27zM27 50h36v8H27zM27 32h36v8H27zM11.8 15.8V22h1.8v-7.8h-1.5l-2.1 1 .3 1.3zM12.1 38.5l.7-.6c1.1-1 2.1-2.1 2.1-3.4 0-1.4-1-2.4-2.7-2.4-1.1 0-2 .4-2.6.8l.5 1.3c.4-.3 1-.6 1.7-.6.9 0 1.3.5 1.3 1.1 0 .9-.9 1.8-2.6 3.3l-1 .9V40H15v-1.5h-2.9zM13.3 53.9c1-.4 1.4-1 1.4-1.8 0-1.1-.9-1.9-2.6-1.9-1 0-1.9.3-2.4.6l.4 1.3c.3-.2 1-.5 1.6-.5.8 0 1.2.3 1.2.8 0 .7-.8.9-1.4.9h-.7v1.3h.7c.8 0 1.6.3 1.6 1.1 0 .6-.5 1-1.4 1-.7 0-1.5-.3-1.8-.5l-.4 1.4c.5.3 1.3.6 2.3.6 2 0 3.2-1 3.2-2.4 0-1.1-.8-1.8-1.7-1.9z"></path></svg>',title:"Ordered List",result:function(){return q("insertOrderedList")}},ul:{icon:'<svg id="trumbowyg-unordered-list" viewBox="0 0 72 72" width="17px" height="100%"><path d="M27 14h36v8H27zM27 50h36v8H27zM9 50h9v8H9zM9 32h9v8H9zM9 14h9v8H9zM27 32h36v8H27z"></path></svg>',title:"Unordered List",result:function(){return q("insertUnorderedList")}},line:{icon:"&#8213;",title:"Horizontal Line",result:function(){return q("insertHorizontalRule")}},left:{icon:'<svg id="trumbowyg-justify-left" viewBox="0 0 72 72" width="17px" height="100%"><path d="M9 14h54v8H9zM9 50h54v8H9zM9 32h36v8H9z"></path></svg>',title:"Justify left",result:function(){return q("justifyLeft")}},right:{icon:'<svg id="trumbowyg-justify-right" viewBox="0 0 72 72" width="17px" height="100%"><path d="M9 14h54v8H9zM9 50h54v8H9zM27 32h36v8H27z"></path></svg>',title:"Justify right",result:function(){return q("justifyRight")}},center:{icon:'<svg id="trumbowyg-justify-center" viewBox="0 0 72 72" width="17px" height="100%"><path d="M9 14h54v8H9zM9 50h54v8H9zM18 32h36v8H18z"></path></svg>',title:"Justify center",result:function(){return q("justifyCenter")}},justify:{icon:'<svg id="trumbowyg-justify-full" viewBox="0 0 72 72" width="17px" height="100%"><path d="M9 14h54v8H9zM9 50h54v8H9zM9 32h54v8H9z"></path></svg>',title:"Justify full",result:function(){return q("justifyFull")}},a:{icon:'<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M31.1 48.9l-6.7 6.7c-.8.8-1.6.9-2.1.9s-1.4-.1-2.1-.9L15 50.4c-1.1-1.1-1.1-3.1 0-4.2l6.1-6.1.2-.2 6.5-6.5c-1.2-.6-2.5-.9-3.8-.9-2.3 0-4.6.9-6.3 2.6L11 41.8c-3.5 3.5-3.5 9.2 0 12.7l5.2 5.2c1.7 1.7 4 2.6 6.3 2.6s4.6-.9 6.3-2.6l6.7-6.7c2.5-2.6 3.1-6.7 1.5-10l-5.9 5.9zM38.7 22.5l6.7-6.7c.8-.8 1.6-.9 2.1-.9s1.4.1 2.1.9l5.2 5.2c1.1 1.1 1.1 3.1 0 4.2l-6.1 6.1-.2.2L42 38c1.2.6 2.5.9 3.8.9 2.3 0 4.6-.9 6.3-2.6l6.7-6.7c3.5-3.5 3.5-9.2 0-12.7l-5.2-5.2c-1.7-1.7-4-2.6-6.3-2.6s-4.6.9-6.3 2.6l-6.7 6.7c-2.7 2.7-3.3 6.9-1.7 10.2l6.1-6.1c0 .1 0 .1 0 0z"></path><path d="M44.2 30.5c.2-.2.4-.6.4-.9 0-.3-.1-.6-.4-.9l-2.3-2.3c-.3-.2-.6-.4-.9-.4-.3 0-.6.1-.9.4L25.9 40.6c-.2.2-.4.6-.4.9 0 .3.1.6.4.9l2.3 2.3c.2.2.6.4.9.4.3 0 .6-.1.9-.4l14.2-14.2zM49.9 55.4h-8.5v-5h8.5v-8.9h5.2v8.9h8.5v5h-8.5v8.9h-5.2v-8.9z"></path></svg>',title:"Insert link",result:function(t){var e=this,n=this.get("actionObj");if(n.a.active){var o=window.getSelection(),i=document.createRange();i.selectNodeContents(document.getSelection().focusNode),o.removeAllRanges(),o.addRange(i),q("unlink"),n.a.title="Insert link",n.a.icon='<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M31.1 48.9l-6.7 6.7c-.8.8-1.6.9-2.1.9s-1.4-.1-2.1-.9L15 50.4c-1.1-1.1-1.1-3.1 0-4.2l6.1-6.1.2-.2 6.5-6.5c-1.2-.6-2.5-.9-3.8-.9-2.3 0-4.6.9-6.3 2.6L11 41.8c-3.5 3.5-3.5 9.2 0 12.7l5.2 5.2c1.7 1.7 4 2.6 6.3 2.6s4.6-.9 6.3-2.6l6.7-6.7c2.5-2.6 3.1-6.7 1.5-10l-5.9 5.9zM38.7 22.5l6.7-6.7c.8-.8 1.6-.9 2.1-.9s1.4.1 2.1.9l5.2 5.2c1.1 1.1 1.1 3.1 0 4.2l-6.1 6.1-.2.2L42 38c1.2.6 2.5.9 3.8.9 2.3 0 4.6-.9 6.3-2.6l6.7-6.7c3.5-3.5 3.5-9.2 0-12.7l-5.2-5.2c-1.7-1.7-4-2.6-6.3-2.6s-4.6.9-6.3 2.6l-6.7 6.7c-2.7 2.7-3.3 6.9-1.7 10.2l6.1-6.1c0 .1 0 .1 0 0z"></path><path d="M44.2 30.5c.2-.2.4-.6.4-.9 0-.3-.1-.6-.4-.9l-2.3-2.3c-.3-.2-.6-.4-.9-.4-.3 0-.6.1-.9.4L25.9 40.6c-.2.2-.4.6-.4.9 0 .3.1.6.4.9l2.3 2.3c.2.2.6.4.9.4.3 0 .6-.1.9-.4l14.2-14.2zM49.9 55.4h-8.5v-5h8.5v-8.9h5.2v8.9h8.5v5h-8.5v8.9h-5.2v-8.9z"></path></svg>',this.set({actionBtns:Y(n),actionObj:n})}else J(this.refs.editor),t.set({show:!0,event:"linkUrl",title:"Insert link",label:"Url"}),et||(et=!0,t.on("linkUrl",function(t){Q(e.refs.editor),q("createLink",t),n.a.title="Unlink",n.a.icon='<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M30.9 49.1l-6.7 6.7c-.8.8-1.6.9-2.1.9s-1.4-.1-2.1-.9l-5.2-5.2c-1.1-1.1-1.1-3.1 0-4.2l6.1-6.1.2-.2 6.5-6.5c-1.2-.6-2.5-.9-3.8-.9-2.3 0-4.6.9-6.3 2.6L10.8 42c-3.5 3.5-3.5 9.2 0 12.7l5.2 5.2c1.7 1.7 4 2.6 6.3 2.6s4.6-.9 6.3-2.6l6.7-6.7C38 50.5 38.6 46.3 37 43l-6.1 6.1zM38.5 22.7l6.7-6.7c.8-.8 1.6-.9 2.1-.9s1.4.1 2.1.9l5.2 5.2c1.1 1.1 1.1 3.1 0 4.2l-6.1 6.1-.2.2-6.5 6.5c1.2.6 2.5.9 3.8.9 2.3 0 4.6-.9 6.3-2.6l6.7-6.7c3.5-3.5 3.5-9.2 0-12.7l-5.2-5.2c-1.7-1.7-4-2.6-6.3-2.6s-4.6.9-6.3 2.6l-6.7 6.7c-2.7 2.7-3.3 6.9-1.7 10.2l6.1-6.1z"></path><path d="M44.1 30.7c.2-.2.4-.6.4-.9 0-.3-.1-.6-.4-.9l-2.3-2.3c-.2-.2-.6-.4-.9-.4-.3 0-.6.1-.9.4L25.8 40.8c-.2.2-.4.6-.4.9 0 .3.1.6.4.9l2.3 2.3c.2.2.6.4.9.4.3 0 .6-.1.9-.4l14.2-14.2zM41.3 55.8v-5h22.2v5H41.3z"></path></svg>',e.set({actionBtns:Y(n),actionObj:n})}))}},image:{icon:'<svg id="trumbowyg-insert-image" viewBox="0 0 72 72" width="17px" height="100%"><path d="M64 17v38H8V17h56m8-8H0v54h72V9z"></path><path d="M17.5 22C15 22 13 24 13 26.5s2 4.5 4.5 4.5 4.5-2 4.5-4.5-2-4.5-4.5-4.5zM16 50h27L29.5 32zM36 36.2l8.9-8.5L60.2 50H45.9S35.6 35.9 36 36.2z"></path></svg>',title:"Image",result:function(t){var e=this;J(this.refs.editor),t.set({show:!0,event:"imageUrl",title:"Insert image",label:"Url"}),nt||(nt=!0,t.on("imageUrl",function(t){Q(e.refs.editor),q("insertImage",t)}))}},forecolor:{icon:'<svg id="trumbowyg-fore-color" viewBox="0 0 72 72" width="17px" height="100%"><path d="M32 15h7.8L56 57.1h-7.9l-4-11.1H27.4l-4 11.1h-7.6L32 15zm-2.5 25.4h12.9L36 22.3h-.2l-6.3 18.1z"></path></svg>',title:"Text color",colorPicker:!0,result:function(t,e){rt(t,e,"foreColor",this)}},backcolor:{icon:'<svg id="trumbowyg-back-color" viewBox="0 0 72 72" width="17px" height="100%"><path d="M36.5 22.3l-6.3 18.1H43l-6.3-18.1z"></path><path d="M9 8.9v54.2h54.1V8.9H9zm39.9 48.2L45 46H28.2l-3.9 11.1h-7.6L32.8 15h7.8l16.2 42.1h-7.9z"></path></svg>',title:"Background color",colorPicker:!0,result:function(t,e){rt(t,e,"backColor",this)}},removeFromat:{icon:'<svg id="trumbowyg-removeformat" viewBox="0 0 72 72" width="17px" height="100%"><path d="M58.2 54.6L52 48.5l3.6-3.6 6.1 6.1 6.4-6.4 3.8 3.8-6.4 6.4 6.1 6.1-3.6 3.6-6.1-6.1-6.4 6.4-3.7-3.8 6.4-6.4zM21.7 52.1H50V57H21.7zM18.8 15.2h34.1v6.4H39.5v24.2h-7.4V21.5H18.8v-6.3z"></path></svg>',title:"Remove format",result:function(){var t=window.getSelection();if(!t.toString().length){G(this.refs.editor.children);var e=document.createRange();e.selectNodeContents(this.refs.editor),t.removeAllRanges(),t.addRange(e)}q("removeFormat"),t.removeAllRanges()}}},rt=function(t,e,n,o){J(o.refs.editor),e.set({show:!0,event:n}),ot[n]||(ot[n]=!0,e.on(n,function(e){if(e.modal){t.set({show:!0,event:"colorHref",title:"Text color",label:"foreColor"===n?"Text color":"Background color"});var i=n;ot[i+"Modal"]||(ot[i+"Modal"]=!0,t.on("colorHref",function(t){Q(o.refs.editor),q(i,t)}))}else Q(o.refs.editor),q(n,e.color)}))};e(H.prototype,{confirm:function(t){t.preventDefault();var e=this.get("url");e?(this.fire(this.get("event"),e),this.cancel()):(this.set({error:!0}),this.refs.modalWrapper.querySelector("input").focus())},cancel:function(){this.set({show:!1,url:"",error:!1})},hideError:function(){this.set({error:!1})}},A);var lt=["ffffff","000000","eeece1","1f497d","4f81bd","c0504d","9bbb59","8064a2","4bacc6","f79646","ffff00","f2f2f2","7f7f7f","ddd9c3","c6d9f0","dbe5f1","f2dcdb","ebf1dd","e5e0ec","dbeef3","fdeada","fff2ca","d8d8d8","595959","c4bd97","8db3e2","b8cce4","e5b9b7","d7e3bc","ccc1d9","b7dde8","fbd5b5","ffe694","bfbfbf","3f3f3f","938953","548dd4","95b3d7","d99694","c3d69b","b2a2c7","b7dde8","fac08f","f2c314","a5a5a5","262626","494429","17365d","366092","953734","76923c","5f497a","92cddc","e36c09","c09100","7f7f7f","0c0c0c","1d1b10","0f243e","244061","632423","4f6128","3f3151","31859b","974806","7f6000"],st=function(){var t=lt.map(function(t){return{color:"#"+t,style:"background-color: #"+t+";"}});return t.push({text:"#",style:"text-indent: 0;line-height: 20px;padding: 0 5px;",modal:!0}),t};e(F.prototype,{close:function(){this.set({show:!1})},selectColor:function(t){this.fire(this.get("event"),t),this.close()}},A);var ct=void 0,at=void 0;return e(V.prototype,{_btnClicked:function(t){J(this.refs.editor),Q(this.refs.editor),t.result.apply(this,[ct,at]),this._handleButtonStatus()},_handleButtonStatus:function(){var t=W(document.getSelection().focusNode),e=this.get("actionObj");Object.keys(e).forEach(function(t){return e[t].active=!1}),t.forEach(function(t){return(e[t.toLowerCase()]||{}).active=!0}),this.set({actionBtns:Y(e),actionObj:e})},_onPaste:function(t){t.preventDefault(),q("insertHTML",K(t.clipboardData.getData("text/html")))},_onChange:function(t){this.fire("change",t)},_onBlur:function(t){this.fire("blur",t)},exec:function(t,e){q(t,e)},getHtml:function(){return this.refs.editor.innerHTML},getText:function(){return refs.editor.innerText},setHtml:function(t){this.refs.editor.innerHTML=t||""}},A),V});
//# sourceMappingURL=index.js.map
